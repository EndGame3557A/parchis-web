<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Parchís con Fichas Móviles</title>
  <style>
    body { display: flex; justify-content: center; align-items: center; height: 100vh; background-color:#333 }
    canvas { border: 2px solid #333; }
  </style>
</head>
<body>
  <canvas id="parchis" width="600" height="600"></canvas>
  <script>
    const canvas = document.getElementById('parchis');
    const ctx = canvas.getContext('2d');

    const img = new Image();
    img.src = 'tierra.jpg'; // Cambia por tu imagen de fondo

    const fichas = [
  // Fichas rojas (esquina superior izquierda)
  { x: 75, y: 75, color: "red", dragging: false },
  { x: 125, y: 125, color: "red", dragging: false },
  { x: 75, y: 125, color: "red", dragging: false },
  { x: 125, y: 75, color: "red", dragging: false },

  // Fichas naranjas (esquina superior derecha)
  { x: 475, y: 75, color: "orange", dragging: false },
  { x: 525, y: 125, color: "orange", dragging: false },
  { x: 475, y: 125, color: "orange", dragging: false },
  { x: 525, y: 75, color: "orange", dragging: false },

  // Fichas verdes (esquina inferior izquierda)
  { x: 75, y: 475, color: "green", dragging: false },
  { x: 125, y: 525, color: "green", dragging: false },
  { x: 125, y: 475, color: "green", dragging: false },
  { x: 75, y: 525, color: "green", dragging: false },

  // Fichas azules (esquina inferior derecha)
  { x: 475, y: 475, color: "blue", dragging: false },
  { x: 525, y: 525, color: "blue", dragging: false },
  { x: 475, y: 525, color: "blue", dragging: false },
  { x: 525, y: 475, color: "blue", dragging: false }
];


    let fichaSeleccionada = null;

    function dibujarTablero() {
      // Tu código del tablero va aquí — si es muy largo, lo puedes mantener como estaba.
      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

      ctx.fillStyle = "red";    
      ctx.fillRect(5, 5, 195, 195);
      ctx.fillStyle = "orange";
      ctx.fillRect(400, 5, 195, 195);
      ctx.fillStyle = "blue";
      ctx.fillRect(400, 400, 195, 195);
      ctx.fillStyle = "green";
      ctx.fillRect(5, 400, 195, 195);

      // Triángulo central
      ctx.beginPath();
      ctx.moveTo(230, 230);
      ctx.lineTo(230, 370);
      ctx.lineTo(300, 300);
      ctx.closePath();
      ctx.fillStyle = "green";
      ctx.fill();
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(230, 230);
      ctx.lineTo(370, 230);
      ctx.lineTo(300, 300);
      ctx.closePath();
      ctx.fillStyle = "red";
      ctx.fill();
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(370, 370);
      ctx.lineTo(370, 230);
      ctx.lineTo(300, 300);
      ctx.closePath();
      ctx.fillStyle = "orange";
      ctx.fill();
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(370, 370);
      ctx.lineTo(230, 370);
      ctx.lineTo(300, 300);
      ctx.closePath();
      ctx.fillStyle = "blue";
      ctx.fill();




ctx.beginPath();  
ctx.fillStyle="lightblue"  
ctx.lineWidth = 3           // Empieza un nuevo camino
ctx.moveTo(200, 5);            // Punto de inicio (x, y)
ctx.lineTo(200, 200); 
ctx.lineTo(400,200);
ctx.lineTo(400,5);
ctx.lineTo(200,5);
ctx.lineTo(265,5);
ctx.lineTo(265,230);
ctx.lineTo(335,230);
ctx.lineTo(335,5)
ctx.moveTo(400,28.57)
ctx.lineTo(200,28.57)
ctx.moveTo(200,28.57*2)
ctx.lineTo(400,28.57*2)
ctx.moveTo(400,28.57*3)
ctx.lineTo(200,28.57*3)
ctx.moveTo(200,28.57*4)
ctx.lineTo(400,28.57*4)
ctx.moveTo(400,28.57*5)
ctx.lineTo(200,28.57*5)
ctx.moveTo(200,28.57*6)
ctx.lineTo(400,28.57*6)

ctx.moveTo(5,200)
ctx.lineTo(5,400)
ctx.lineTo(200,400)
ctx.lineTo(200,200)
ctx.lineTo(5,200)
ctx.lineTo(28.57,200)
ctx.lineTo(28.57,400)
ctx.lineTo(28.57*2,400)
ctx.lineTo(28.57*2,200)
ctx.lineTo(28.57*3,200)
ctx.lineTo(28.57*3,400)
ctx.lineTo(28.57*4,400)
ctx.lineTo(28.57*4,200)
ctx.lineTo(28.57*5,200)
ctx.lineTo(28.57*5,400)
ctx.lineTo(28.57*6,400)
ctx.lineTo(28.57*6,200)
ctx.moveTo(5,265)
ctx.lineTo(230,265)
ctx.moveTo(5,335)
ctx.lineTo(230,335)

ctx.moveTo(200, 400);            // Punto de inicio (x, y)
ctx.lineTo(400, 400);
ctx.lineTo(400,595)
ctx.lineTo(200,595)
ctx.lineTo(200,400)
ctx.moveTo(265,370)
ctx.lineTo(265,595)
ctx.moveTo(335,370)
ctx.lineTo(335,595)
ctx.moveTo(400,595-28.57)
ctx.lineTo(200,595-28.57)
ctx.moveTo(200,595-28.57*2)
ctx.lineTo(400,595-28.57*2)
ctx.moveTo(400,595-28.57*3)
ctx.lineTo(200,595-28.57*3)
ctx.moveTo(200,595-28.57*4)
ctx.lineTo(400,595-28.57*4)
ctx.moveTo(400,595-28.57*5)
ctx.lineTo(200,595-28.57*5)
ctx.moveTo(200,595-28.57*6)
ctx.lineTo(400,595-28.57*6)

ctx.moveTo(400,200)
ctx.lineTo(595,200)
ctx.lineTo(595,400)
ctx.lineTo(400,400)
ctx.lineTo(400,200)
ctx.lineTo(595-28.57,200)
ctx.lineTo(595-28.57,400)
ctx.lineTo(595-28.57*2,400)
ctx.lineTo(595-28.57*2,200)
ctx.lineTo(595-28.57*3,200)
ctx.lineTo(595-28.57*3,400)
ctx.lineTo(595-28.57*4,400)
ctx.lineTo(595-28.57*4,200)
ctx.lineTo(595-28.57*5,200)
ctx.lineTo(595-28.57*5,400)
ctx.lineTo(595-28.57*6,400)
ctx.lineTo(595-28.57*6,200)
ctx.moveTo(370,265)
ctx.lineTo(595,265)
ctx.moveTo(370,334)
ctx.lineTo(595,335)
ctx.moveTo(230,370)
ctx.lineTo(370,370)

ctx.moveTo(200,200)
ctx.lineTo(230,230)

ctx.moveTo(200,400)
ctx.lineTo(230,370)

ctx.moveTo(400,200)
ctx.lineTo(370,230)

ctx.moveTo(400,400)
ctx.lineTo(370,370)


      ctx.stroke();



      
    }

    function dibujarFichas() {
      for (let ficha of fichas) {
        ctx.beginPath();
        ctx.arc(ficha.x, ficha.y, 10, 0, 2 * Math.PI);
        ctx.fillStyle = ficha.color;
        ctx.fill();
        ctx.strokeStyle = "black";
        ctx.lineWidth = 2;
        ctx.stroke();
      }
    }

    function redibujarTodo() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      dibujarTablero();
      dibujarFichas();
    }

    function fichaBajoMouse(x, y) {
      for (let ficha of fichas) {
        let dx = ficha.x - x;
        let dy = ficha.y - y;
        if (Math.sqrt(dx * dx + dy * dy) < 20) {
          return ficha;
        }
      }
      return null;
    }

    canvas.addEventListener("mousedown", function (e) {
      const rect = canvas.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;
      fichaSeleccionada = fichaBajoMouse(mouseX, mouseY);
      if (fichaSeleccionada) fichaSeleccionada.dragging = true;
    });

    canvas.addEventListener("mousemove", function (e) {
      if (fichaSeleccionada && fichaSeleccionada.dragging) {
        const rect = canvas.getBoundingClientRect();
        fichaSeleccionada.x = e.clientX - rect.left;
        fichaSeleccionada.y = e.clientY - rect.top;
        redibujarTodo();
      }
    });

    canvas.addEventListener("mouseup", function () {
      if (fichaSeleccionada) fichaSeleccionada.dragging = false;
      fichaSeleccionada = null;
    });

    img.onload = function () {
      redibujarTodo();
    };
  </script>
</body>
</html>





